<!DOCTYPE html>
<html lang="en">
<head>
    <title>RPi Web Server</title>
    <script crossorigin="anonymous"
            integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8=" src="https://code.jquery.com/jquery-3.1.1.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/1.3.6/socket.io.min.js"
            type="text/javascript"></script>
    <link crossorigin="anonymous" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
          integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" rel="stylesheet">

    <script charset="utf-8" type="text/javascript">
        $(document).ready(function () {
            var free_fields = document.getElementsByClassName('block');
            var wait = document.getElementById('wait');
            console.log(free_fields);
            var socket = io.connect('http://' + document.domain + ':' + location.port);
            socket.on('*', function () {
            });
            socket.on('connect', function () {
                socket.emit('my event', {data: 'I\'m connected!'});
            });
            socket.on('gas_val', function (msg) {
                wait.style.visibility = 'hidden';
                free_fields[0].style.display = 'block';
                      free_fields[0]['childNodes'][5].textContent = msg.data;
            });
            socket.on('gas_tag', function (msg) {
                wait.style.visibility = 'hidden';
                free_fields[0]['childNodes'][3].textContent = msg.data;
            });


            socket.on('tag_2', function (msg) {
                wait.style.visibility = 'hidden';
                free_fields[1]['childNodes'][3].textContent = msg.data;
            });
            socket.on('val_2', function (msg) {
                wait.style.visibility = 'hidden';
                free_fields[1].style.display = 'block';
                free_fields[1]['childNodes'][5].textContent = msg.data;
            });


            socket.on('tag_3', function (msg) {
                wait.style.visibility = 'hidden';
                free_fields[2]['childNodes'][3].textContent = msg.data;
            });
            socket.on('val_3', function (msg) {
                wait.style.visibility = 'hidden';
                free_fields[2].style.display = 'block';
                free_fields[2]['childNodes'][5].textContent = msg.data;
            });


            socket.on('tag_4', function (msg) {
                wait.style.visibility = 'hidden';
                free_fields[3]['childNodes'][3].textContent = msg.data;
            });
            socket.on('val_4', function (msg) {
                wait.style.visibility = 'hidden';
                free_fields[3].style.display = 'block';
                free_fields[3]['childNodes'][5].textContent = msg.data;
            });


            socket.on('tag_5', function (msg) {
                wait.style.visibility = 'hidden';
                free_fields[4]['childNodes'][3].textContent = msg.data;
            });
            socket.on('val_5', function (msg) {
                wait.style.visibility = 'hidden';
                free_fields[4].style.display = 'block';
                free_fields[4]['childNodes'][5].textContent = msg.data;
            });
        });
    </script>
    <style>
        body {
            text-align: center;
        }

        .main_container {
            display: flex;
            flex-direction: row;
             align-items: center;
            justify-content: center;
        }

        .block {
            margin: 20px;
            width: 150px;
            height: 150px;
            display: none;

        }

    </style>
</head>

<body>
<!--<h1>Server</h1>-->
<div class="container">
    <h4 id="wait">Waiting for device connection...</h4>
    <div class="row">
        <div id="d1" class="col block rounded-lg bg-light border">
            <h6>Device 1</h6>
            <h3>CO2</h3>
            <h1>22</h1>
        </div>
        <div id="d2" class="col block rounded-lg bg-light border">
            <h6>Device 2</h6>
            <h3>TEMP</h3>
            <h1>22</h1>
        </div>
        <div id="d3" class="col block rounded-lg bg-light border">
            <h6>Device 3</h6>
            <h3>TEMP</h3>
            <h1>22</h1>
        </div>
        <div id="d4" class="col block rounded-lg bg-light border">
            <h6>Device 4</h6>
            <h3>TEMP</h3>
            <h1>22</h1>
        </div>
        <div id="d5" class="col block rounded-lg bg-light border">
            <h6>Device 5</h6>
            <h3>TEMP</h3>
            <h1>22</h1>
        </div>
        <div id="d6" class="col block rounded-lg bg-light border">
            <h6>Device 6</h6>
            <h3>TEMP</h3>
            <h1>22</h1>

        </div>
    </div>
</div>
</body>
</html>
